<scope ilk="blob" lang="PHP" name="Install.php" src="/usr/share/php/PEAR/Command/Install.php"><import line="21" module="PEAR/Command/Common.php" /><import line="329" module="PEAR/Downloader.php" /><import line="341" module="PEAR/Installer.php" /><import line="527" module="PEAR/PackageFile.php" /><scope classrefs="PEAR_Command_Common" doc="PEAR commands for installation or deinstallation/upgrading of&#xA;packages.&#xA;&#xA;@category   pear&#xA;@package    PEAR&#xA;@author     Stig Bakken &lt;ssb@php.net&gt;&#xA;@author     Greg Beaver &lt;cellog@php.net&gt;&#xA;@copyright  1997-2009 The Authors&#xA;@license    http://opensource.org/licenses/bsd-license.php New BSD License&#xA;@version    Release: 1.9.4&#xA;@link       http://pear.php.net/package/PEAR&#xA;@since      Class available since Release 0.1" ilk="class" line="37" lineend="1268" name="PEAR_Command_Install"><variable citdl="array()" line="306" name="commands" /><scope attributes="__ctor__" doc="&#xA;PEAR_Command_Install constructor.&#xA;Access public&#xA;" ilk="function" line="316" lineend="319" name="PEAR_Command_Install" signature="PEAR_Command_Install(&amp; $ui, &amp; $config)"><variable ilk="argument" line="316" name="ui" /><variable ilk="argument" line="316" name="config" /></scope><scope doc="&#xA;For unit testing purposes&#xA;" ilk="function" line="326" lineend="333" name="getDownloader" returns="a" signature="&amp;getDownloader(&amp; $ui, $options, &amp; $config)"><variable ilk="argument" line="326" name="ui" /><variable ilk="argument" line="326" name="options" /><variable ilk="argument" line="326" name="config" /><variable citdl="PEAR_Downloader" line="331" name="a" /></scope><scope doc="&#xA;For unit testing purposes&#xA;" ilk="function" line="338" lineend="345" name="getInstaller" returns="a" signature="&amp;getInstaller(&amp; $ui)"><variable ilk="argument" line="338" name="ui" /><variable citdl="PEAR_Installer" line="343" name="a" /></scope><scope ilk="function" line="347" lineend="398" name="enableExtension" returns="PEAR.raiseError()" signature="enableExtension($binaries, $type)"><variable ilk="argument" line="347" name="binaries" /><variable ilk="argument" line="347" name="type" /><variable citdl="ob_get_contents()" line="364" name="info" /><variable citdl="binaries[]" line="382" name="binary" /><variable citdl="string" line="358" name="search" /><variable citdl="string" line="359" name="enable" /><variable citdl="ini[]" line="370" name="extension" /><variable citdl="preg_match()" line="367" name="ts" /><variable line="389" name="fp" /><variable citdl="this._parseIni()" line="352" name="ini" /><variable citdl="function_exists()" line="366" name="debug" /><variable citdl="int" line="356" name="line" /><variable citdl="array_slice()" line="378" name="newini" /></scope><scope ilk="function" line="400" lineend="451" name="disableExtension" returns="PEAR.raiseError()" signature="disableExtension($binaries, $type)"><variable ilk="argument" line="400" name="binaries" /><variable ilk="argument" line="400" name="type" /><variable citdl="ob_get_contents()" line="417" name="info" /><variable line="435" name="fp" /><variable citdl="string" line="411" name="search" /><variable citdl="string" line="412" name="enable" /><variable citdl="ini[]" line="424" name="extension" /><variable citdl="preg_match()" line="420" name="ts" /><variable citdl="this._parseIni()" line="405" name="ini" /><variable citdl="function_exists()" line="419" name="debug" /><variable citdl="boolean" line="423" name="found" /><variable citdl="int" line="409" name="line" /><variable citdl="array_slice()" line="440" name="newini" /></scope><scope ilk="function" line="453" lineend="520" name="_parseIni" returns="PEAR.raiseError()" signature="_parseIni($filename)"><variable ilk="argument" line="453" name="filename" /><variable citdl="ob_get_contents()" line="465" name="info" /><variable line="470" name="all" /><variable citdl="ini_get()" line="476" name="extension_dir" /><variable citdl="string" line="469" name="zend_extension_line" /><variable citdl="preg_match()" line="468" name="ts" /><variable citdl="extensions" line="474" name="zend_extensions" /><variable line="477" name="linenum" /><variable citdl="function_exists()" line="467" name="debug" /><variable citdl="trim()" line="488" name="x" /><variable citdl="trim()" line="477" name="line" /></scope><scope doc="&#xA;{{{ doInstall()&#xA;" ilk="function" line="524" lineend="872" name="doInstall" returns="this.raiseError()" signature="doInstall($command, $options, $params)"><variable ilk="argument" line="524" name="command" /><variable ilk="argument" line="524" name="options" /><variable ilk="argument" line="524" name="params" /><variable citdl="reg.packageExists()" line="589" name="exists" /><variable citdl="reg" line="554" name="instreg" /><variable citdl="param.getChannel()" line="791" name="chan" /><variable citdl="param.getPackageFile()" line="582" name="pkg" /><variable citdl="list[]" line="855" name="file" /><variable citdl="this.installer._prependPath()" line="558" name="packrootphp_dir" /><variable citdl="array()" line="798" name="out" /><variable citdl="downloaded" line="660" name="errors" /><variable citdl="groups[]" line="827" name="group" /><variable citdl="version_compare()" line="591" name="version_compare" /><variable citdl="reg.packageInfo()" line="590" name="pversion" /><variable citdl="preg_match()" line="777" name="ts" /><variable citdl="params[]" line="570" name="param" /><variable citdl="reg.parsedPackageNameToString()" line="797" name="label" /><variable citdl="pkg.fromAnyFile()" line="583" name="pf" /><variable citdl="string" line="770" name="exttype" /><variable citdl="reg.parsedPackageNameToString()" line="853" name="pn" /><variable citdl="this.config.getRegistry()" line="534" name="reg" /><variable line="535" name="channel" /><variable citdl="this.enableExtension()" line="764" name="ret" /><variable citdl="this.installer.install()" line="708" name="info" /><variable citdl="pathinfo()" line="743" name="pinfo" /><variable citdl="info" line="711" name="oldinfo" /><variable citdl="this.downloader.download()" line="661" name="downloaded" /><variable citdl="array_map()" line="566" name="abstractpackages" /><variable citdl="deps" line="822" name="groups" /><variable citdl="instpkg.getFilelist()[]" line="742" name="atts" /><variable citdl="params" line="551" name="packages" /><variable citdl="array()" line="688" name="data" /><variable citdl="count()" line="621" name="count" /><variable citdl="instreg.getPackage()" line="737" name="instpkg" /><variable citdl="string" line="651" name="c" /><variable citdl="reg.parsePackageName()" line="605" name="e" /><variable line="742" name="name" /><variable citdl="array()" line="668" name="err" /><variable citdl="abstractpackages[]" line="622" name="package" /><variable line="622" name="i" /><variable citdl="param.getDeps()" line="819" name="deps" /><variable citdl="errors[]" line="670" name="error" /><variable citdl="function_exists()" line="776" name="debug" /><variable citdl="extrainfo" line="705" name="binaries" /></scope><variable citdl="this.getInstaller()" line="541" name="installer" /><variable citdl="this.getDownloader()" line="659" name="downloader" /><scope doc="&#xA;}}}&#xA;{{{ doUpgradeAll()&#xA;" ilk="function" line="877" lineend="906" name="doUpgradeAll" signature="doUpgradeAll($command, $options, $params)"><variable ilk="argument" line="877" name="command" /><variable ilk="argument" line="877" name="options" /><variable ilk="argument" line="877" name="params" /><variable citdl="array()" line="880" name="upgrade" /><variable citdl="reg.listPackages()[]" line="894" name="name" /><variable citdl="this.doInstall()" line="902" name="err" /><variable citdl="array()" line="883" name="channels" /><variable citdl="this.config.getRegistry()" line="879" name="reg" /><variable citdl="channels[]" line="888" name="channel" /></scope><scope doc="&#xA;}}}&#xA;{{{ doUninstall()&#xA;" ilk="function" line="911" lineend="1081" name="doUninstall" returns="this.raiseError()" signature="doUninstall($command, $options, $params)"><variable ilk="argument" line="911" name="command" /><variable ilk="argument" line="911" name="options" /><variable ilk="argument" line="911" name="params" /><variable citdl="reg.getInstalledGroup()" line="969" name="installed" /><variable citdl="params[]" line="932" name="pkg" /><variable citdl="reg.parsePackageName()" line="935" name="parsed" /><variable citdl="string" line="1031" name="exttype" /><variable citdl="info.getDependencyGroup()" line="967" name="group" /><variable citdl="preg_match()" line="1038" name="ts" /><variable citdl="this.disableExtension()" line="1025" name="ret" /><variable citdl="this.config.getRegistry()" line="928" name="reg" /><variable citdl="this.config.get()" line="933" name="channel" /><variable citdl="pkg" line="1050" name="savepkg" /><variable citdl="array()" line="929" name="newparams" /><variable citdl="pathinfo()" line="1007" name="pinfo" /><variable line="948" name="testc" /><variable citdl="pkg.getFilelist()[]" line="1006" name="atts" /><variable citdl="reg.getPackage()" line="943" name="info" /><variable citdl="this.config.readFTPConfigFile()" line="922" name="e" /><variable line="1006" name="name" /><variable citdl="this.installer.sortPackagesForUninstall()" line="979" name="err" /><variable citdl="parsed" line="941" name="package" /><variable line="971" name="i" /><variable citdl="array()" line="931" name="badparams" /><variable citdl="installed[]" line="971" name="p" /><variable citdl="function_exists()" line="1037" name="debug" /><variable citdl="array()" line="930" name="binaries" /></scope><scope doc="&#xA;(cox) It just downloads and untars the package, does not do&#xA;        any check that the PEAR_Installer::_installFile() does.&#xA;" ilk="function" line="1093" lineend="1145" name="doBundle" returns="this.raiseError()" signature="doBundle($command, $options, $params)"><variable ilk="argument" line="1093" name="command" /><variable ilk="argument" line="1093" name="options" /><variable ilk="argument" line="1093" name="params" /><variable citdl="pkgfile.getVersion()" line="1133" name="pkgversion" /><variable citdl="pkgfile.getName()" line="1132" name="pkgname" /><variable citdl="Archive_Tar" line="1139" name="tar" /><variable citdl="downloader.setDownloadDir()" line="1118" name="err" /><variable citdl="this.getDownloader()" line="1101" name="downloader" /><variable citdl="realpath()" line="1111" name="dest" /><variable citdl="result" line="1131" name="pkgfile" /><variable citdl="getcwd()" line="1113" name="pwd" /><variable citdl="array()" line="1100" name="opts" /><variable citdl="pkgname" line="1137" name="orig" /><variable citdl="this.config.getRegistry()" line="1102" name="reg" /><variable citdl="pwd" line="1114" name="dir" /><variable citdl="downloader.download()" line="1124" name="result" /></scope><scope doc="&#xA;}}}&#xA;" ilk="function" line="1149" lineend="1172" name="doRunScripts" returns="this.raiseError()" signature="doRunScripts($command, $options, $params)"><variable ilk="argument" line="1149" name="command" /><variable ilk="argument" line="1149" name="options" /><variable ilk="argument" line="1149" name="params" /><variable citdl="reg.getPackage()" line="1163" name="package" /><variable citdl="this.config.getRegistry()" line="1155" name="reg" /><variable citdl="reg.parsePackageName()" line="1157" name="parsed" /></scope><scope doc="&#xA;Given a list of packages, filter out those ones that are already up to date&#xA;&lt;$packages:&gt; packages,  - in parsed array format !&#xA;Returns list  - of packages that can be upgraded&#xA;" ilk="function" line="1180" lineend="1267" name="_filterUptodatePackages" returns="list" signature="list _filterUptodatePackages($packages, $command)"><variable ilk="argument" line="1180" name="packages" /><variable ilk="argument" line="1180" name="command" /><variable citdl="latestReleases" line="1251" name="channel_version" /><variable citdl="package" line="1193" name="name" /><variable citdl="packages[]" line="1186" name="package" /><variable citdl="reg.getChannel()" line="1201" name="chan" /><variable citdl="this.config.get()" line="1219" name="state" /><variable citdl="array()" line="1185" name="ret" /><variable citdl="array_flip()" line="1232" name="installed" /><variable citdl="strtolower()" line="1247" name="name_lower" /><variable citdl="boolean" line="1206" name="base2" /><variable citdl="base2" line="1227" name="base" /><variable citdl="array()" line="1183" name="latestReleases" /><variable citdl="rest.listLatestUpgrades()" line="1233" name="latest" /><variable citdl="reg.packageInfo()" line="1250" name="inst_version" /><variable citdl="this.config.getREST()" line="1226" name="rest" /><variable citdl="this.config.get()" line="1207" name="preferred_mirror" /><variable citdl="this.config.getRegistry()" line="1182" name="reg" /><variable citdl="package" line="1192" name="channel" /><variable citdl="boolean" line="1214" name="dorest" /></scope></scope></scope>