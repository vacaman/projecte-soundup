<scope ilk="blob" lang="PHP" name="Builder.php" src="/usr/share/php/PEAR/Builder.php"><import line="24" module="PEAR/Common.php" /><import line="25" module="PEAR/PackageFile.php" /><scope classrefs="PEAR_Common" doc="Class to handle building (compiling) extensions.&#xA;&#xA;@category   pear&#xA;@package    PEAR&#xA;@author     Stig Bakken &lt;ssb@php.net&gt;&#xA;@author     Greg Beaver &lt;cellog@php.net&gt;&#xA;@copyright  1997-2009 The Authors&#xA;@license    http://opensource.org/licenses/bsd-license.php New BSD License&#xA;@version    Release: 1.9.4&#xA;@link       http://pear.php.net/package/PEAR&#xA;@since      Class available since PHP 4.0.2&#xA;@see        http://pear.php.net/manual/en/core.ppm.pear-builder.php" ilk="class" line="41" lineend="491" name="PEAR_Builder"><variable citdl="int" line="43" name="php_api_version" /><variable citdl="int" line="44" name="zend_module_api_no" /><variable citdl="int" line="45" name="zend_extension_api_no" /><variable citdl="array()" line="47" name="extensions_built" /><variable citdl="string" doc="@var string Used for reporting when it is not possible to pass function&#xA;            via extra parameter, e.g. log, msdevCallback" line="53" name="current_callback" /><variable citdl="data" line="56" name="_lastline" /><variable citdl="data" line="57" name="_firstline" /><scope attributes="__ctor__" doc="&#xA;PEAR_Builder constructor.&#xA;&lt;object&gt; $ui  - user interface object (instance of PEAR_Frontend_*)&#xA;Access public&#xA;" ilk="function" line="66" lineend="70" name="PEAR_Builder" signature="PEAR_Builder(object &amp; $ui)"><variable citdl="object" ilk="argument" line="66" name="ui" /></scope><scope doc="&#xA;Build an extension from source on windows.&#xA;requires msdev&#xA;" ilk="function" line="76" lineend="168" name="_build_win32" returns="pkg" signature="_build_win32($descfile, $callback = null)"><variable ilk="argument" line="76" name="descfile" /><variable default="null" ilk="argument" line="76" name="callback" /><variable citdl="string" line="147" name="regex" /><variable citdl="string" line="121" name="buildtype" /><variable citdl="getcwd()" line="89" name="old_cwd" /><variable citdl="this._runCommand()" line="114" name="err" /><variable citdl="pkg.getPackage()" line="96" name="vdir" /><variable citdl="realpath()" line="151" name="outfile" /><variable citdl="pkg.getPackage()" line="107" name="dsp" /><variable citdl="string" line="120" name="platform" /><variable citdl="PEAR_PackageFile" line="82" name="pf" /><variable citdl="descfile" line="79" name="pkg" /><variable citdl="join()" line="139" name="dsptext" /><variable citdl="string" line="112" name="command" /><variable citdl="dirname()" line="88" name="dir" /><variable citdl="matches" line="132" name="out" /></scope><scope doc="&#xA;{{{ msdevCallback()&#xA;" ilk="function" line="172" lineend="178" name="msdevCallback" signature="msdevCallback($what, $data)"><variable ilk="argument" line="172" name="what" /><variable ilk="argument" line="172" name="data" /></scope><scope doc="@param string&#xA;@param string&#xA;@param array&#xA;@access private" ilk="function" line="186" lineend="218" name="_harvestInstDir" returns="boolean" signature="_harvestInstDir($dest_prefix, $dirname, &amp; $built_files)"><variable ilk="argument" line="186" name="dest_prefix" /><variable ilk="argument" line="186" name="dirname" /><variable ilk="argument" line="186" name="built_files" /><variable citdl="dest_prefix" line="206" name="dest" /><variable citdl="dirname" line="197" name="full" /><variable line="193" name="ent" /><variable citdl="opendir()" line="188" name="d" /><variable citdl="boolean" line="192" name="ret" /></scope><scope doc="&#xA;Build an extension from source.  Runs &quot;phpize&quot; in the source&#xA;directory, but compiles in a temporary directory&#xA;(TMPDIR/pear-build-USER/PACKAGE-VERSION).&#xA;&lt;string|pear_packagefile_v*&gt; $descfile  - path to XML package description file, or&#xA;              a PEAR_PackageFile object&#xA;&lt;mixed&gt; $callback  - callback function used to report output,&#xA;see PEAR_Builder::_runCommand for details&#xA;Returns array  - an array of associative arrays with built files,&#xA;format:&#xA;array( array( &apos;file&apos; =&gt; &apos;/path/to/ext.so&apos;,&#xA;              &apos;php_api&apos; =&gt; YYYYMMDD,&#xA;              &apos;zend_mod_api&apos; =&gt; YYYYMMDD,&#xA;              &apos;zend_ext_api&apos; =&gt; YYYYMMDD ),&#xA;       ... )&#xA;Access public&#xA;See PEAR_Builder::_runCommand&#xA;" ilk="function" line="243" lineend="403" name="build" returns="array" signature="array build($descfile, mixed $callback = null)"><variable ilk="argument" line="243" name="descfile" /><variable citdl="mixed" default="null" ilk="argument" line="243" name="callback" /><variable citdl="array()" line="396" name="built_files" /><variable citdl="string" line="353" name="inst_dir" /><variable citdl="exec()" line="399" name="prefix" /><variable citdl="descfile" line="272" name="pkg" /><variable citdl="this.config.get()" line="350" name="tmpdir" /><variable citdl="getcwd()" line="298" name="old_cwd" /><variable citdl="string" line="352" name="build_dir" /><variable citdl="PEAR_PackageFile" line="282" name="pf" /><variable citdl="string" line="326" name="configure_command" /><variable citdl="pkg.getPackage()" line="303" name="vdir" /><variable citdl="System.mktemp()" line="351" name="build_basedir" /><variable citdl="string" line="347" name="user" /><variable citdl="array()" line="376" name="to_run" /><variable citdl="this._runCommand()" line="314" name="err" /><variable citdl="array_key_exists()" line="330" name="default" /><variable citdl="to_run[]" line="381" name="cmd" /><variable citdl="configure_options[]" line="329" name="o" /><variable citdl="array_keys()[]" line="291" name="item" /><variable citdl="pkg.getConfigureOptions()" line="327" name="configure_options" /><variable attributes="__not_yet_defined__" line="331" name="r" /><variable citdl="getenv()" line="369" name="make_command" /><variable citdl="dirname()" line="275" name="dir" /></scope><scope doc="&#xA;Message callback function used when running the &quot;phpize&quot;&#xA;program.  Extracts the API numbers used.  Ignores other message&#xA;types than &quot;cmdoutput&quot;.&#xA;&lt;string&gt; $what  - the type of message&#xA;&lt;mixed&gt; $data  - the message&#xA;Returns void &#xA;Access public&#xA;" ilk="function" line="417" lineend="436" name="phpizeCallback" signature="void phpizeCallback(string $what, mixed $data)"><variable citdl="string" ilk="argument" line="417" name="what" /><variable citdl="mixed" ilk="argument" line="417" name="data" /><variable citdl="array()" line="426" name="matches" /><variable citdl="preg_replace()" line="428" name="member" /><variable citdl="int" line="429" name="apino" /></scope><scope doc="&#xA;Run an external command, using a message callback to report&#xA;output.  The command will be run through popen and output is&#xA;reported for every line with a &quot;cmdoutput&quot; message with the&#xA;line string, including newlines, as payload.&#xA;&lt;string&gt; $command  - the command to run&#xA;&lt;mixed&gt; $callback  - (optional) function to use as message&#xA;callback&#xA;Returns bool  - whether the command was successful (exit code 0&#xA;means success, any other means failure)&#xA;Access private&#xA;" ilk="function" line="454" lineend="479" name="_runCommand" returns="bool" signature="bool _runCommand(string $command, mixed $callback = null)"><variable citdl="string" ilk="argument" line="454" name="command" /><variable citdl="mixed" default="null" ilk="argument" line="454" name="callback" /><variable citdl="popen()" line="457" name="pp" /><variable line="466" name="line" /><variable citdl="callback" line="462" name="olddbg" /><variable citdl="is_resource()" line="477" name="exitcode" /></scope><scope ilk="function" line="481" lineend="490" name="log" returns="PEAR_Common.log()" signature="log($level, $msg)"><variable ilk="argument" line="481" name="level" /><variable ilk="argument" line="481" name="msg" /></scope></scope></scope>