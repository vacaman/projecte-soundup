<scope ilk="blob" lang="PHP" name="Postinstallscript.php" src="/usr/share/php/PEAR/Task/Postinstallscript.php"><import line="19" module="PEAR/Task/Common.php" /><scope classrefs="PEAR_Task_Common" doc="Implements the postinstallscript file task.&#xA;&#xA;Note that post-install scripts are handled separately from installation, by the&#xA;&quot;pear run-scripts&quot; command&#xA;@category   pear&#xA;@package    PEAR&#xA;@author     Greg Beaver &lt;cellog@php.net&gt;&#xA;@copyright  1997-2009 The Authors&#xA;@license    http://opensource.org/licenses/bsd-license.php New BSD License&#xA;@version    Release: 1.9.4&#xA;@link       http://pear.php.net/package/PEAR&#xA;@since      Class available since Release 1.4.0a1" ilk="class" line="34" lineend="322" name="PEAR_Task_Postinstallscript"><variable citdl="string" line="36" name="type" /><variable citdl="str_replace()" line="37" name="_class" /><variable citdl="xml" line="38" name="_params" /><variable line="39" name="_obj" /><variable citdl="PEAR_PackageFile_v2" doc="@var PEAR_PackageFile_v2" line="44" name="_pkg" /><variable citdl="contents" line="45" name="_contents" /><variable citdl="PEAR_TASK_INSTALL" line="46" name="phase" /><scope doc="Validate the raw xml at parsing-time.&#xA;&#xA;This also attempts to validate the script to make sure it meets the criteria&#xA;for a post-install script&#xA;@param PEAR_PackageFile_v2&#xA;@param array The XML contents of the &lt;postinstallscript&gt; tag&#xA;@param PEAR_Config&#xA;@param array the entire parsed &lt;file&gt; tag&#xA;@static" ilk="function" line="59" lineend="223" name="validateXml" returns="array()" signature="validateXml($pkg, $xml, $config, $fileXml)"><variable ilk="argument" line="59" name="pkg" /><variable ilk="argument" line="59" name="xml" /><variable ilk="argument" line="59" name="config" /><variable ilk="argument" line="59" name="fileXml" /><variable citdl="array()" line="118" name="definedparams" /><variable citdl="array()" line="105" name="methods" /><variable citdl="string" line="79" name="warnings" /><variable citdl="param" line="180" name="subparams" /><variable citdl="pkg.getTasksNs()" line="119" name="tasksNamespace" /><variable citdl="pkg.analyzeSourceCode()" line="76" name="analysis" /><variable citdl="analysis[]" line="106" name="method" /><variable citdl="pkg.getValidationWarnings()[]" line="80" name="warn" /><variable citdl="xml" line="126" name="params" /><variable citdl="params[]" line="130" name="param" /><variable citdl="pkg.getFileContents()" line="66" name="file" /><variable citdl="subparams[]" line="184" name="subparam" /><variable citdl="analysis" line="91" name="class" /></scope><scope doc="&#xA;Initialize a task instance with the parameters&#xA;&lt;array&gt; raw,  - parsed xml&#xA;&lt;array&gt; attributes  - from the &lt;file&gt; tag containing this task&#xA;&lt;string|null&gt; last  - installed version of this package, if any (useful for upgrades)&#xA;" ilk="function" line="231" lineend="238" name="init" signature="init($xml, $fileattribs, $lastversion)"><variable ilk="argument" line="231" name="xml" /><variable ilk="argument" line="231" name="fileattribs" /><variable ilk="argument" line="231" name="lastversion" /></scope><variable citdl="fileattribs" line="234" name="_filename" /><variable citdl="lastversion" line="237" name="_lastversion" /><scope doc="&#xA;Strip the tasks: namespace from internal params&#xA;Access private&#xA;" ilk="function" line="245" lineend="269" name="_stripNamespace" returns="newparams" signature="_stripNamespace($params = null)"><variable default="null" ilk="argument" line="245" name="params" /><variable line="252" name="i" /><variable citdl="array()" line="260" name="newparams" /><variable citdl="this._stripNamespace()" line="252" name="param" /></scope><scope doc="Unlike other tasks, the installed file name is passed in instead of the file contents,&#xA;because this task is handled post-installation&#xA;@param PEAR_PackageFile_v1|PEAR_PackageFile_v2&#xA;@param string file name&#xA;@return bool|PEAR_Error false to skip this file, PEAR_Error to fail&#xA;        (use $this-&gt;throwError)" ilk="function" line="279" lineend="309" name="startSession" returns="bool" signature="bool startSession($pkg, $contents)"><variable ilk="argument" line="279" name="pkg" /><variable ilk="argument" line="279" name="contents" /><variable citdl="this._obj.init()" line="299" name="res" /></scope><scope doc="&#xA;No longer used&#xA;See PEAR_PackageFile_v2::runPostinstallScripts()&#xA;&lt;array&gt; an  - array of tasks&#xA;&lt;string&gt; install  - or upgrade&#xA;Access protected&#xA;Static&#xA;" ilk="function" line="319" lineend="321" name="run" signature="run()" /></scope></scope>