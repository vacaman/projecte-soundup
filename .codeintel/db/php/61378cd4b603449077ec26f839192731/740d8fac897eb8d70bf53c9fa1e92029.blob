<scope ilk="blob" lang="PHP" name="gettext.php" src="/usr/share/php/php-gettext/gettext.php"><scope doc="Provides a simple gettext replacement that works independently from&#xA;the system&apos;s gettext abilities.&#xA;It can read MO files and use them for translating strings.&#xA;The files are passed to gettext_reader as a Stream (see streams.php)&#xA;&#xA;This version has the ability to cache all strings and translations to&#xA;speed up the string lookup.&#xA;While the cache is enabled by default, it can be switched off with the&#xA;second parameter in the constructor (e.g. whenusing very large MO files&#xA;that you don&apos;t want to keep in memory)" ilk="class" line="36" lineend="430" name="gettext_reader"><variable citdl="int" line="38" name="error" /><variable citdl="int" line="41" name="BYTEORDER" /><variable citdl="Reader" line="42" name="STREAM" /><variable citdl="boolean" line="43" name="short_circuit" /><variable citdl="boolean" line="44" name="enable_cache" /><variable citdl="this.readint()" line="45" name="originals" /><variable citdl="this.readint()" line="46" name="translations" /><variable citdl="this.sanitize_plural_expression()" line="47" name="pluralheader" /><variable citdl="int" line="48" name="total" /><variable citdl="this.readintarray()" line="49" name="table_originals" /><variable citdl="this.readintarray()" line="50" name="table_translations" /><variable citdl="array()" line="51" name="cache_translations" /><scope doc="&#xA;Reads a 32bit Integer from the Stream&#xA;Access private&#xA;Returns integer  - from the Stream&#xA;" ilk="function" line="63" lineend="73" name="readint" returns="Integer" signature="integer readint()"><variable citdl="unpack()" line="66" name="input" /></scope><scope ilk="function" line="75" lineend="77" name="read" returns="this.STREAM.read()" signature="read($bytes)"><variable ilk="argument" line="75" name="bytes" /></scope><scope doc="&#xA;Reads an array of Integers from the Stream&#xA;&lt;int&gt; count  - How many elements should be read&#xA;Returns array  - of Integers&#xA;" ilk="function" line="85" lineend="93" name="readintarray" returns="Array" signature="array readintarray($count)"><variable ilk="argument" line="85" name="count" /></scope><scope attributes="__ctor__" doc="&#xA;Constructor&#xA;&lt;object&gt; Reader  - the StreamReader object&#xA;&lt;boolean&gt; enable_cache  - Enable or disable caching of strings (default on)&#xA;" ilk="function" line="101" lineend="131" name="gettext_reader" returns="boolean" signature="gettext_reader($Reader, $enable_cache = true)"><variable ilk="argument" line="101" name="Reader" /><variable default="true" ilk="argument" line="101" name="enable_cache" /><variable citdl="this.read()" line="115" name="magic" /><variable citdl="this.readint()" line="126" name="revision" /><variable citdl="string" line="111" name="MAGIC1" /><variable citdl="string" line="112" name="MAGIC2" /></scope><scope doc="&#xA;Loads the translation tables from the MO file into the cache&#xA;If caching is enabled, also loads all strings into a cache&#xA;to speed up translation lookups&#xA;Access private&#xA;" ilk="function" line="140" lineend="167" name="load_tables" signature="load_tables()"><variable line="159" name="i" /><variable citdl="this.STREAM.read()" line="163" name="translation" /><variable citdl="this.STREAM.read()" line="161" name="original" /></scope><scope doc="&#xA;Returns a string from the &quot;originals&quot; table&#xA;Access private&#xA;&lt;int&gt; num  - Offset number of original string&#xA;Returns string  - Requested string if found, otherwise &apos;&apos;&#xA;" ilk="function" line="176" lineend="184" name="get_original_string" returns="string" signature="string get_original_string($num)"><variable ilk="argument" line="176" name="num" /><variable citdl="this.table_originals" line="177" name="length" /><variable citdl="this.STREAM.read()" line="182" name="data" /><variable citdl="this.table_originals" line="178" name="offset" /></scope><scope doc="&#xA;Returns a string from the &quot;translations&quot; table&#xA;Access private&#xA;&lt;int&gt; num  - Offset number of original string&#xA;Returns string  - Requested string if found, otherwise &apos;&apos;&#xA;" ilk="function" line="193" lineend="201" name="get_translation_string" returns="string" signature="string get_translation_string($num)"><variable ilk="argument" line="193" name="num" /><variable citdl="this.table_translations" line="194" name="length" /><variable citdl="this.STREAM.read()" line="199" name="data" /><variable citdl="this.table_translations" line="195" name="offset" /></scope><scope doc="&#xA;Binary search for string&#xA;Access private&#xA;&lt;string&gt; string  - &#xA;&lt;int&gt; start  - (internally used in recursive function)&#xA;&lt;int&gt; end  - (internally used in recursive function)&#xA;Returns int  - string number (offset in originals table)&#xA;" ilk="function" line="212" lineend="242" name="find_string" returns="int" signature="int find_string($string, $start = -1, $end = -1)"><variable ilk="argument" line="212" name="string" /><variable default="-1" ilk="argument" line="212" name="start" /><variable default="-1" ilk="argument" line="212" name="end" /><variable citdl="strcmp()" line="231" name="cmp" /><variable citdl="this.get_original_string()" line="220" name="txt" /><variable citdl="int" line="230" name="half" /></scope><scope doc="&#xA;Translates a string&#xA;Access public&#xA;&lt;string&gt; string  - to be translated&#xA;Returns string  - translated string (or original, if not found)&#xA;" ilk="function" line="251" lineend="270" name="translate" returns="string" signature="string translate($string)"><variable ilk="argument" line="251" name="string" /><variable citdl="this.find_string()" line="264" name="num" /></scope><scope doc="&#xA;Sanitize plural form expression for use in PHP eval call.&#xA;Access private&#xA;Returns string  - sanitized plural form expression&#xA;" ilk="function" line="278" lineend="305" name="sanitize_plural_expression" returns="string" signature="string sanitize_plural_expression($expr)"><variable ilk="argument" line="278" name="expr" /><variable line="286" name="i" /><variable citdl="string" line="284" name="res" /><variable citdl="expr" line="287" name="ch" /><variable citdl="int" line="285" name="p" /></scope><scope doc="&#xA;Parse full PO header and extract only plural forms line.&#xA;Access private&#xA;Returns string  - verbatim plural form header field&#xA;" ilk="function" line="313" lineend="319" name="extract_plural_forms_header_from_po_header" returns="string" signature="string extract_plural_forms_header_from_po_header($header)"><variable ilk="argument" line="313" name="header" /><variable citdl="regs" line="314" name="expr" /></scope><scope doc="&#xA;Get possible plural forms from MO header&#xA;Access private&#xA;Returns string  - plural form header&#xA;" ilk="function" line="327" lineend="343" name="get_plural_forms" returns="string" signature="string get_plural_forms()"><variable citdl="this.cache_translations" line="335" name="header" /><variable citdl="this.extract_plural_forms_header_from_po_header()" line="339" name="expr" /></scope><scope doc="&#xA;Detects which plural form to take&#xA;Access private&#xA;&lt;n&gt; count  - &#xA;Returns int  - array index of the right plural form&#xA;" ilk="function" line="352" lineend="364" name="select_string" returns="int" signature="int select_string($n)"><variable ilk="argument" line="352" name="n" /><variable citdl="int" line="358" name="total" /><variable citdl="int" line="359" name="plural" /><variable citdl="str_replace()" line="353" name="string" /></scope><scope doc="&#xA;Plural version of gettext&#xA;Access public&#xA;&lt;string&gt; single  - &#xA;&lt;string&gt; plural  - &#xA;&lt;string&gt; number  - &#xA;Returns translated  - plural form&#xA;" ilk="function" line="375" lineend="408" name="ngettext" returns="translated" signature="translated ngettext($single, $plural, $number)"><variable ilk="argument" line="375" name="single" /><variable ilk="argument" line="375" name="plural" /><variable ilk="argument" line="375" name="number" /><variable citdl="this.find_string()" line="399" name="num" /><variable citdl="explode()" line="395" name="list" /><variable citdl="single" line="387" name="key" /><variable citdl="this.select_string()" line="384" name="select" /><variable citdl="this.cache_translations" line="394" name="result" /></scope><scope ilk="function" line="410" lineend="418" name="pgettext" returns="msgid" signature="pgettext($context, $msgid)"><variable ilk="argument" line="410" name="context" /><variable ilk="argument" line="410" name="msgid" /><variable citdl="this.translate()" line="412" name="ret" /><variable citdl="context" line="411" name="key" /></scope><scope ilk="function" line="420" lineend="429" name="npgettext" returns="singular" signature="npgettext($context, $singular, $plural, $number)"><variable ilk="argument" line="420" name="context" /><variable ilk="argument" line="420" name="singular" /><variable ilk="argument" line="420" name="plural" /><variable ilk="argument" line="420" name="number" /><variable citdl="this.ngettext()" line="422" name="ret" /><variable citdl="context" line="421" name="key" /></scope></scope></scope>