<scope ilk="blob" lang="PHP" name="streams.php" src="/usr/share/php/php-gettext/streams.php"><scope doc="Simple class to wrap file streams, string streams, etc.&#xA;seek is essential, and it should be byte stream" ilk="class" line="26" lineend="46" name="StreamReader"><scope doc="&#xA;should return a string [FIXME: perhaps return array of bytes?]&#xA;" ilk="function" line="28" lineend="30" name="read" returns="boolean" signature="read($bytes)"><variable ilk="argument" line="28" name="bytes" /></scope><scope doc="&#xA;should return new position&#xA;" ilk="function" line="33" lineend="35" name="seekto" returns="boolean" signature="seekto($position)"><variable ilk="argument" line="33" name="position" /></scope><scope doc="&#xA;returns current position&#xA;" ilk="function" line="38" lineend="40" name="currentpos" returns="boolean" signature="currentpos()" /><scope doc="&#xA;returns length of entire stream (limit for seekto()s)&#xA;" ilk="function" line="43" lineend="45" name="length" returns="boolean" signature="length()" /></scope><scope ilk="class" line="48" lineend="81" name="StringReader"><variable citdl="strlen()" line="49" name="_pos" /><variable citdl="str" line="50" name="_str" /><scope attributes="__ctor__" ilk="function" line="52" lineend="55" name="StringReader" signature="StringReader($str = &apos;&apos;)"><variable default="&apos;&apos;" ilk="argument" line="52" name="str" /></scope><scope ilk="function" line="57" lineend="64" name="read" returns="data" signature="read($bytes)"><variable ilk="argument" line="57" name="bytes" /><variable citdl="substr()" line="58" name="data" /></scope><scope ilk="function" line="66" lineend="71" name="seekto" returns="this._pos" signature="seekto($pos)"><variable ilk="argument" line="66" name="pos" /></scope><scope ilk="function" line="73" lineend="75" name="currentpos" returns="this._pos" signature="currentpos()" /><scope ilk="function" line="77" lineend="79" name="length" returns="strlen()" signature="length()" /></scope><scope ilk="class" line="84" lineend="141" name="FileReader"><variable citdl="ftell()" line="85" name="_pos" /><variable citdl="fopen()" line="86" name="_fd" /><variable citdl="filesize()" line="87" name="_length" /><scope attributes="__ctor__" ilk="function" line="89" lineend="103" name="FileReader" returns="boolean" signature="FileReader($filename)"><variable ilk="argument" line="89" name="filename" /></scope><variable citdl="int" line="96" name="error" /><scope ilk="function" line="105" lineend="121" name="read" returns="data" signature="read($bytes)"><variable ilk="argument" line="105" name="bytes" /><variable citdl="fread()" line="113" name="chunk" /><variable citdl="string" line="111" name="data" /></scope><scope ilk="function" line="123" lineend="127" name="seekto" returns="this._pos" signature="seekto($pos)"><variable ilk="argument" line="123" name="pos" /></scope><scope ilk="function" line="129" lineend="131" name="currentpos" returns="this._pos" signature="currentpos()" /><scope ilk="function" line="133" lineend="135" name="length" returns="this._length" signature="length()" /><scope ilk="function" line="137" lineend="139" name="close" signature="close()" /></scope><scope classrefs="StringReader" doc="Preloads entire file in memory first, then creates a StringReader&#xA;over it (it assumes knowledge of StringReader internals)" ilk="class" line="145" lineend="164" name="CachedFileReader"><scope attributes="__ctor__" ilk="function" line="146" lineend="163" name="CachedFileReader" returns="boolean" signature="CachedFileReader($filename)"><variable ilk="argument" line="146" name="filename" /><variable citdl="filesize()" line="149" name="length" /><variable citdl="fopen()" line="150" name="fd" /></scope><variable citdl="int" line="153" name="error" /><variable citdl="fread()" line="156" name="_str" /></scope></scope>