<scope ilk="blob" lang="PHP" name="CommentModel.php" src="/home/ubuntu/workspace/basic/vendor/yii2mod/yii2-comments/models/CommentModel.php"><scope ilk="namespace" line="3" name="yii2mod\comments\models"><import line="6" module="paulzi\adjacencyList" symbol="AdjacencyListBehavior" /><import line="7" module="" symbol="Yii" /><import line="8" module="yii\behaviors" symbol="BlameableBehavior" /><import line="9" module="yii\behaviors" symbol="TimestampBehavior" /><import line="10" module="yii\db" symbol="ActiveQuery" /><import line="11" module="yii\db" symbol="ActiveRecord" /><import line="12" module="yii\helpers" symbol="ArrayHelper" /><import line="13" module="yii2mod\behaviors" symbol="PurifyBehavior" /><import line="14" module="yii2mod\comments" symbol="Module" /><import line="15" module="yii2mod\moderation\enums" symbol="Status" /><import line="16" module="yii2mod\moderation" symbol="ModerationBehavior" /><import line="17" module="yii2mod\moderation" symbol="ModerationQuery" /><scope classrefs="ActiveRecord" doc="Class CommentModel&#xA;@var \dektrium\user\models\Profile $profile &#xA;@property string $entity&#xA;@property int $entityId&#xA;@property string $content&#xA;@property int $parentId&#xA;@property int $level&#xA;@property int $createdBy&#xA;@property int $updatedBy&#xA;@property string $relatedTo&#xA;@property string $url&#xA;@property int $status&#xA;@property int $createdAt&#xA;@property int $updatedAt&#xA;&#xA;@method ActiveRecord makeRoot()&#xA;@method ActiveRecord appendTo($node)&#xA;@method ActiveQuery getDescendants()" ilk="class" line="39" lineend="426" name="CommentModel"><scope ilk="function" line="39" name="makeRoot" returns="ActiveRecord" signature="activerecord makeRoot()" /><scope doc="&#xA;($node)&#xA;" ilk="function" line="39" name="appendTo" returns="ActiveRecord" signature="activerecord appendTo()" /><scope ilk="function" line="39" name="getDescendants" returns="ActiveQuery" signature="activequery getDescendants()" /><variable citdl="int" line="39" name="status" /><variable citdl="string" line="39" name="relatedTo" /><variable citdl="int" line="39" name="level" /><variable citdl="string" line="39" name="url" /><variable citdl="int" line="39" name="updatedBy" /><variable citdl="string" line="39" name="entity" /><variable citdl="string" line="39" name="content" /><variable citdl="int" line="39" name="createdBy" /><variable citdl="int" line="39" name="parentId" /><variable citdl="int" line="39" name="updatedAt" /><variable citdl="int" line="39" name="entityId" /><variable citdl="int" line="39" name="createdAt" /><variable attributes="protected" citdl="null" doc="@var null|array|ActiveRecord[] comment children" line="44" name="children" /><scope attributes="public static" doc="&#xA;Inheritdoc&#xA;" ilk="function" line="49" lineend="52" name="tableName" returns="string" signature="tableName()" /><scope attributes="public" doc="&#xA;Inheritdoc&#xA;" ilk="function" line="57" lineend="69" name="rules" signature="rules()" /><scope attributes="public" doc="@param $attribute" ilk="function" line="74" lineend="90" name="validateParentID" signature="validateParentID($attribute)"><variable ilk="argument" line="74" name="attribute" /><variable line="80" name="parentCommentExist" /></scope><scope attributes="public" doc="&#xA;Inheritdoc&#xA;" ilk="function" line="95" lineend="129" name="behaviors" signature="behaviors()" /><scope attributes="public" doc="&#xA;Inheritdoc&#xA;" ilk="function" line="134" lineend="151" name="attributeLabels" signature="attributeLabels()" /><scope attributes="public static" doc="&#xA;Returns moderationquery &#xA;" ilk="function" line="156" lineend="159" name="find" returns="ModerationQuery" signature="moderationquery find()" /><scope attributes="public" doc="&#xA;Inheritdoc&#xA;" ilk="function" line="164" lineend="176" name="beforeSave" returns="boolean" signature="beforeSave($insert)"><variable ilk="argument" line="164" name="insert" /><variable line="168" name="parentNodeLevel" /></scope><scope attributes="public" doc="&#xA;Inheritdoc&#xA;" ilk="function" line="181" lineend="190" name="afterSave" signature="afterSave($insert, $changedAttributes)"><variable ilk="argument" line="181" name="insert" /><variable ilk="argument" line="181" name="changedAttributes" /></scope><scope attributes="public" doc="&#xA;Returns bool &#xA;" ilk="function" line="195" lineend="208" name="saveComment" returns="bool" signature="bool saveComment()"><variable line="201" name="parentComment" /></scope><scope attributes="public" doc="&#xA;Author relation&#xA;Returns \yii\db\activequery &#xA;" ilk="function" line="215" lineend="220" name="getAuthor" returns="\yii\db\ActiveQuery" signature="\yii\db\activequery getAuthor()"><variable citdl="Yii.$app.getModule()" line="217" name="module" /></scope><scope attributes="public static" doc="&#xA;Get comments tree.&#xA;&lt;string&gt; $entity  - &#xA;&lt;string&gt; $entityId  - &#xA;&lt;null&gt; $maxLevel  - &#xA;Returns array|activerecord[] &#xA;" ilk="function" line="231" lineend="251" name="getTree" returns="array" signature="array getTree(string $entity, string $entityId, null $maxLevel = null)"><variable citdl="string" ilk="argument" line="231" name="entity" /><variable citdl="string" ilk="argument" line="231" name="entityId" /><variable citdl="null" default="null" ilk="argument" line="231" name="maxLevel" /><variable citdl="query.all()" line="244" name="models" /><variable line="238" name="query" /></scope><scope attributes="protected static" doc="&#xA;Build comments tree.&#xA;&lt;array&gt; $data  - comments list&#xA;&lt;int&gt; $rootID  - &#xA;Returns array|activerecord[] &#xA;" ilk="function" line="261" lineend="274" name="buildTree" returns="array" signature="array buildTree(array &amp; $data, int $rootID = 0)"><variable citdl="array" ilk="argument" line="261" name="data" /><variable citdl="int" default="0" ilk="argument" line="261" name="rootID" /><variable citdl="data[]" line="265" name="node" /><variable line="263" name="tree" /><variable line="265" name="id" /></scope><scope attributes="public" doc="&#xA;Returns array|null|activerecord[] &#xA;" ilk="function" line="279" lineend="282" name="getChildren" returns="array" signature="array getChildren()" /><scope attributes="public" doc="@param $value" ilk="function" line="287" lineend="290" name="setChildren" signature="setChildren($value)"><variable ilk="argument" line="287" name="value" /></scope><scope attributes="public" doc="&#xA;Returns bool &#xA;" ilk="function" line="295" lineend="298" name="hasChildren" returns="bool" signature="bool hasChildren()" /><scope attributes="public" doc="&#xA;Returns string &#xA;" ilk="function" line="303" lineend="306" name="getPostedDate" returns="string" signature="string getPostedDate()" /><scope attributes="public" doc="&#xA;Returns mixed &#xA;" ilk="function" line="311" lineend="318" name="getAuthorName" returns="mixed" signature="mixed getAuthorName()" /><scope attributes="public" doc="&#xA;Returns string &#xA;" ilk="function" line="323" lineend="326" name="getContent" returns="string" signature="string getContent()" /><scope attributes="public" doc="&#xA;Get avatar of the user&#xA;Returns string &#xA;" ilk="function" line="333" lineend="359" name="getAvatar" returns="string" signature="string getAvatar()"><variable line="349" name="query" /><variable line="357" name="consult2" /><variable citdl="this.author.username" line="340" name="user" /><variable citdl="query" line="351" name="id" /></scope><scope attributes="public static" doc="&#xA;Get list of all authors&#xA;Returns array &#xA;" ilk="function" line="366" lineend="378" name="getAuthors" returns="array" signature="array getAuthors()"><variable line="375" name="query" /></scope><scope attributes="public" doc="&#xA;Returns int &#xA;" ilk="function" line="383" lineend="389" name="getCommentsCount" returns="int" signature="int getCommentsCount()" /><scope attributes="public" doc="&#xA;Returns string &#xA;" ilk="function" line="394" lineend="397" name="getAnchorUrl" returns="string" signature="string getAnchorUrl()" /><scope attributes="public" doc="&#xA;Returns null|string &#xA;" ilk="function" line="402" lineend="409" name="getViewUrl" returns="null" signature="null getViewUrl()" /><scope attributes="public" doc="&#xA;Before moderation event&#xA;Returns bool &#xA;" ilk="function" line="416" lineend="425" name="beforeModeration" returns="bool" signature="bool beforeModeration()"><variable citdl="ArrayHelper.getColumn()" line="418" name="descendantIds" /></scope></scope></scope></scope>